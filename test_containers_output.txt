============================= test session starts =============================
platform win32 -- Python 3.14.2, pytest-9.0.2, pluggy-1.6.0 -- D:\_DISK_\_Documentos_\Mis_repositorios\bollard\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: D:\_DISK_\_Documentos_\Mis_repositorios\bollard
configfile: pyproject.toml
plugins: asyncio-1.3.0, cov-7.0.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 2 items

tests/test_containers.py::test_container_actions FAILED                  [ 50%]
tests/test_containers.py::test_exec PASSED                               [100%]

================================== FAILURES ===================================
___________________________ test_container_actions ____________________________

docker_client = <bollard.client.DockerClient object at 0x0000023AA951EA50>
alpine_image = 'alpine:latest', random_name = 'bollard-test-d4967353'

    def test_container_actions(
        docker_client: DockerClient, alpine_image: str, random_name: str
    ) -> None:
        """Test start, stop, restart, kill, logs."""
    
        # Create but don't start immediately (if possible, but run_container starts by default)
        # bollard.run_container usually creates and starts.
        container = docker_client.run_container(
            alpine_image, command="sleep 60", name=random_name
        )
    
        try:
            assert container.status == "running" or container.status == "created"
    
            # Stop
            container.stop()
            container.reload()
            assert container.status == "exited"
    
            # Start
            container.start()
            container.reload()
            assert container.status == "running"
    
            # Restart
            container.restart()
            container.reload()
            assert container.status == "running"
    
            # Logs
            # Exec something to produce logs
            container.exec("echo 'log test'")
            time.sleep(1)
            logs = container.logs()
            assert (
                "log test" in logs or len(logs) >= 0
            )  # logs might be empty if timing is off, but call shouldn't fail
    
            # Kill
>           container.kill()
            ^^^^^^^^^^^^^^
E           AttributeError: 'Container' object has no attribute 'kill'

tests\test_containers.py:45: AttributeError
---------------------------- Captured stdout setup ----------------------------
DEBUG: bollard imported from D:\_DISK_\_Documentos_\Mis_repositorios\bollard\src\bollard\__init__.py
2026-02-13 13:39:49,473 - bollard.client - INFO - Connected to Docker/Podman via \\.\pipe\docker_engine
2026-02-13 13:39:49,473 - bollard.client - INFO - Pulling alpine:latest...
----------------------------- Captured log setup ------------------------------
INFO     bollard.client:client.py:77 Connected to Docker/Podman via \\.\pipe\docker_engine
INFO     bollard.client:client.py:391 Pulling alpine:latest...
---------------------------- Captured stdout call -----------------------------
2026-02-13 13:39:51,142 - bollard.client - INFO - Creating container for image 'alpine:latest'...
2026-02-13 13:39:51,241 - bollard.client - INFO - Starting container ca0c900ee041...
2026-02-13 13:39:51,434 - bollard.client - INFO - Stopping container ca0c900ee041...
2026-02-13 13:40:01,936 - bollard.client - INFO - Starting container ca0c900ee041...
2026-02-13 13:40:02,156 - bollard.client - INFO - Restarting container ca0c900ee041...
2026-02-13 13:40:14,114 - bollard.client - INFO - Removing container ca0c900ee041...
------------------------------ Captured log call ------------------------------
INFO     bollard.client:client.py:264 Creating container for image 'alpine:latest'...
INFO     bollard.client:client.py:347 Starting container ca0c900ee041...
INFO     bollard.client:client.py:380 Stopping container ca0c900ee041...
INFO     bollard.client:client.py:481 Starting container ca0c900ee041...
INFO     bollard.client:client.py:489 Restarting container ca0c900ee041...
INFO     bollard.client:client.py:464 Removing container ca0c900ee041...
=========================== short test summary info ===========================
FAILED tests/test_containers.py::test_container_actions - AttributeError: 'Container' object has no attribute 'kill'
======================== 1 failed, 1 passed in 48.19s =========================
